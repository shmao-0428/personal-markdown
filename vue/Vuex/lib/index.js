!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).cVuex={})}(this,(function(t){"use strict";function e(){const t=this.$options;t.store?this.$store=t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}const s=(t,e)=>{Object.keys(t).forEach((s=>{e(s,t[s])}))},o=(t,e,s,i)=>{let r=t._modules.getNamespace(s);if(s.length>0){let t=s.slice(0,-1).reduce(((t,e)=>t[e]),e);a.set(t,s[s.length-1],i.state)}i.forEachMutation(((e,s)=>{t._mutations[r+e]=t._mutations[r+e]||[],t._mutations[r+e].push((e=>{s.call(t,i.state,e)}))})),i.forEachAction(((e,s)=>{t._actions[r+e]=t._actions[r+e]||[],t._actions[r+e].push((function(e){s.call(t,this,e)}))})),i.forEachGetter(((e,s)=>{t._wrappedGetters[r+e]=function(){return s(i.state)}})),i.forEachChild(((i,r)=>{o(t,e,s.concat(i),r)}))};class i{constructor(t){this._children={},this._rawModule=t,this.state=t.state}get namespaced(){return!!this._rawModule.namespaced}getChild(t){return this._children[t]}addChild(t,e){this._children[t]=e}forEachMutation(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)}forEachAction(t){this._rawModule.actions&&s(this._rawModule.actions,t)}forEachGetter(t){this._rawModule.getters&&s(this._rawModule.getters,t)}forEachChild(t){s(this._children,t)}}class r{constructor(t){this.register([],t)}register(t,e){let o=new i(e);if(0===t.length)this.root=o;else{t.slice(0,-1).reduce(((t,e)=>t._children[e]),this.root)._children[t[t.length-1]]=o}e.modules&&s(e.modules,((e,s)=>{this.register(t.concat(e),s)}))}getNamespace(t){let e=this.root;return t.reduce(((t,s)=>(e=e.getChild(s),t+(e.namespaced?s+"/":""))),"")}}let a;const n=t=>{a=t,function(t){t.mixin({beforeCreate:e})}(a)};class c{constructor(t){this.commit=(t,e)=>{this._mutations[t].forEach((t=>t.call(this,e)))},this.dispatch=(t,e)=>{this._actions[t].forEach((t=>t.call(this,e)))};let e=t.state;this._vm=new a({data:{state:e}}),this._modules=new r(t),console.log(t),console.log(this._modules),this._wrappedGetters={},this._mutations={},this._actions={},o(this,e,[],this._modules.root),function(t,e){let o=t._vm;const i={};t.getters={};const r=t._wrappedGetters;s(r,((e,s)=>{i[e]=()=>s(t.state),Object.defineProperty(t.getters,e,{get:()=>t._vm[e]})})),t._vm=new a({data:{state:e},computed:i}),o&&a.nextTick((()=>o.$destroy()))}(this,e)}get state(){return this._vm.state}}var h={Store:c,install:n};t.Store=c,t.default=h,t.install=n,Object.defineProperty(t,"__esModule",{value:!0})}));
